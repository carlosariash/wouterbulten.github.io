!function t(e,n,i){function r(s,o){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";e.exports={environment:"development",particles:{N:40,defaultPose:{x:0,y:0,theta:0}},beacons:{n:2,txPower:-12,noise:2,range:20}}},{}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("./landmark-particle-set"),o=i(s),u=function(){function t(){var e=void 0===arguments[0]?500:arguments[0],n=void 0===arguments[1]?4:arguments[1],i=void 0===arguments[2]?0:arguments[2],a=void 0===arguments[3]?void 0:arguments[3];r(this,t),this.nParticles=e,this.stdRange=n,this.randomParticles=i,this.effectiveParticleThreshold=void 0===a?e/1.5:a,this.particleSetMap=new Map}return a(t,[{key:"addMeasurement",value:function(t,e,n,i){return this.has(t)||this.particleSetMap.set(t,new o["default"](this.nParticles,this.stdRange,this.randomParticles,this.effectiveParticleThreshold)),this.particleSetMap.get(t).addMeasurement(e,n,i),this}},{key:"has",value:function(t){return this.particleSetMap.has(t)}},{key:"estimate",value:function(t){return this.particleSetMap.get(t).positionEstimate()}},{key:"remove",value:function(t){this.particleSetMap["delete"](t)}},{key:"particleSets",value:function(){return this.particleSetMap.values()}}]),t}();n["default"]=u,e.exports=n["default"]},{"./landmark-particle-set":3}],3:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../util/math"),s=t("../util/sampling"),o=t("../util/coordinate-system"),u=function(){function t(e,n,r,a){i(this,t),this.nParticles=e,this.stdRange=n,this.effectiveParticleThreshold=a,this.randomParticles=r,this.measurements=0,this.particles=[]}return r(t,[{key:"addMeasurement",value:function(t,e,n){if(0===this.measurements)this.particles=this._randomParticles(this.nParticles,t,e,n);else{this._updateWeights(t,e,n);var i=this.particles.map(function(t){return t.weight});if(s.numberOfEffectiveParticles(i)<this.effectiveParticleThreshold){var r=this._resample(this.nParticles-this.randomParticles);this.particles=r.concat(this._randomParticles(this.randomParticles,t,e,n))}}return this.measurements++,this}},{key:"positionEstimate",value:function(){if(this.measurements<10)return{estimate:0,x:0,y:0,varX:1,varY:1};var t=this._particleVariance(),e=t.varX,n=t.varY;if(8>e&&8>n){var i=this.averagePosition(),r=i.x,a=i.y;return{estimate:1,x:r,y:a,varX:e,varY:n}}return{estimate:0,x:0,y:0,varX:1,varY:1}}},{key:"bestParticle",value:function(){var t=this.particles[0];return this.particles.forEach(function(e){e.weight>t.weight&&(t=e)}),t}},{key:"averagePosition",value:function(){var t=s.normalizeWeights(this.particles.map(function(t){return t.weight}));return{x:this.particles.reduce(function(e,n,i){return e+t[i]*n.x},0),y:this.particles.reduce(function(e,n,i){return e+t[i]*n.y},0)}}},{key:"_particleVariance",value:function(){return{varX:a.variance(this.particles,function(t){return t.x}),varY:a.variance(this.particles,function(t){return t.y})}}},{key:"_resample",value:function(t){var e=this,n=this.particles.map(function(t){return t.weight});return s.lowVarianceSampling(t,n).map(function(t){return{x:e.particles[t].x,y:e.particles[t].y,weight:1}})}},{key:"_randomParticles",value:function(t,e,n,i){for(var r=2*Math.PI/t,s=[],u=0;t>u;u++){var c=u*r,l=i+a.randn(0,this.stdRange),h=o.polarToCartesian(l,c),d=h.dx,f=h.dy;s.push({x:e+d,y:n+f,weight:1})}return s}},{key:"_updateWeights",value:function(t,e,n){var i=this;this.particles.forEach(function(r){var s=Math.sqrt(Math.pow(r.x-t,2)+Math.pow(r.y-e,2)),o=a.pdfn(n,s,i.stdRange);r.weight=r.weight*o})}}]),t}();n["default"]=u,e.exports=n["default"]},{"../util/coordinate-system":11,"../util/math":13,"../util/sampling":14}],4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("./particle"),o=i(s),u=t("./landmark-init-set"),c=i(u),l=t("../util/sampling"),h=function(){function t(e,n){var i=n.x,a=n.y,s=n.theta;r(this,t),this.nParticles=e,this.particleList=[],this.initialisedLandmarks=[],this.landmarkInitSet=new c["default"];for(var u=0;e>u;u++)this.particleList.push(new o["default"]({x:i,y:a,theta:s}))}return a(t,[{key:"samplePose",value:function(t){return this.particleList.forEach(function(e){return e.samplePose(t)}),this}},{key:"processObservation",value:function(t){var e=this;return t!=={}&&!function(){var n=t.uid,i=t.r;-1==e.initialisedLandmarks.indexOf(n)?!function(){var t=e.userEstimate(),r=t.x,a=t.y;e.landmarkInitSet.addMeasurement(n,r,a,i);var s=e.landmarkInitSet.estimate(n),o=s.estimate,u=s.x,c=s.y,l=s.varX,h=s.varY;o>.6&&(e.particleList.forEach(function(t){t.addLandmark({uid:n,r:i},{x:u,y:c},{varX:l,varY:h})}),e.initialisedLandmarks.push(n))}():e.particleList.forEach(function(t){return t.processObservation({uid:n,r:i})})}(),this}},{key:"resample",value:function(){var t=this,e=this.particleList.map(function(t){return t.weight});return l.numberOfEffectiveParticles(e)<.5*this.nParticles?this.particleList=l.lowVarianceSampling(this.nParticles,e).map(function(e){return new o["default"]({},t.particleList[e])}):(console.log("Not resampling"),console.log(l.numberOfEffectiveParticles(e))),this}},{key:"particles",value:function(){return this.particleList}},{key:"bestParticle",value:function(){var t=this.particleList[0];return this.particleList.forEach(function(e){e.weight>t.weight&&(t=e)}),t}},{key:"landmarkEstimate",value:function(){var t=l.normalizeWeights(this.particleList.map(function(t){return t.weight})),e=new Map;return this.particleList.forEach(function(n,i){n.landmarks.forEach(function(n,r){if(e.has(r)){var a=e.get(r);a.x+=t[i]*n.x,a.y+=t[i]*n.y}else e.set(r,{x:t[i]*n.x,y:t[i]*n.y,uid:r})})}),e}},{key:"userEstimate",value:function(){var t=l.normalizeWeights(this.particleList.map(function(t){return t.weight}));return{x:this.particleList.reduce(function(e,n,i){return e+t[i]*n.user.x},0),y:this.particleList.reduce(function(e,n,i){return e+t[i]*n.user.y},0)}}}]),t}();n["default"]=h,e.exports=n["default"]},{"../util/sampling":14,"./landmark-init-set":2,"./particle":5}],5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(u){r=!0,a=u}finally{try{!i&&o["return"]&&o["return"]()}finally{if(r)throw a}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=t("./user"),c=i(u),l=t("../util/math"),h=function(){function t(e){var n=e.x,i=e.y,r=e.theta,a=void 0===arguments[1]?void 0:arguments[1];s(this,t),void 0!==a?(this.user=c["default"].copyUser(a.user),this.landmarks=this._copyMap(a.landmarks)):(this.user=new c["default"]({x:n,y:i,theta:r}),this.landmarks=new Map),this.weight=1}return o(t,[{key:"samplePose",value:function(t){var e=Math.abs(l.randn(t.r,.3)),n=l.randn(t.theta,.05*Math.PI);return this.user.move({r:e,theta:n}),this}},{key:"resetWeight",value:function(){return this.weight=1,this}},{key:"addLandmark",value:function(t,e){var n=t.uid,i=(t.r,e.x),r=e.y,a=void 0===arguments[2]?{varX:1,varY:1}:arguments[2],s=a.varX,o=a.varY,u={x:i,y:r,cov:[[s,0],[0,o]]};this.landmarks.set(n,u)}},{key:"processObservation",value:function(t){var e=t.uid,n=t.r,i=this.landmarks.get(e),r=this.user.x-i.x,a=this.user.y-i.y,s=l.randn(2,.1),o=Math.max(.001,Math.sqrt(r*r+a*a)),u=n-o,c=[-r/o,-a/o],h=[i.cov[0][0]*c[0]+i.cov[0][1]*c[1],i.cov[1][0]*c[0]+i.cov[1][1]*c[1]],d=h[0]*c[0]+h[1]*c[1]+s,f=[h[0]*(1/d),h[1]*(1/d)],v=i.x+f[0]*u,m=i.y+f[1]*u,p=[[f[0]*f[0]*d,f[0]*f[1]*d],[f[1]*f[0]*d,f[1]*f[1]*d]],y=[[i.cov[0][0]-p[0][0],i.cov[0][1]-p[0][1]],[i.cov[1][0]-p[1][0],i.cov[1][1]-p[1][1]]];this.weight=this.weight*l.pdfn(n,o,d),i.x=v,i.y=m,i.cov=y}},{key:"_copyMap",value:function(t){var e=new Map,n=!0,i=!1,a=void 0;try{for(var s,o=t.entries()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=r(s.value,2),c=u[0],l=u[1];e.set(c,this._copyLandmark(l))}}catch(h){i=!0,a=h}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw a}}return e}},{key:"_copyLandmark",value:function(t){var e={};return e.x=t.x,e.y=t.y,e.cov=[].concat(a(t.cov)),e}}]),t}();n["default"]=h,e.exports=n["default"]},{"../util/math":13,"./user":7}],6:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){var n=e.n,r=e.txPower,a=e.noise,s=e.range;i(this,t),this.landmarks=new Map,this.iteration=0,this.landmarkConfig={n:n,txPower:r,noise:a,range:s}}return r(t,[{key:"addObservation",value:function(t){var e=t.uid,n=t.rssi;this.landmarks.has(e)?this._updateLandmark(e,n):this._registerLandmark(e,n)}},{key:"getObservations",value:function(){var t=this,e=[];return this.landmarks.forEach(function(n,i){n.iteration===t.iteration&&e.push({uid:i,r:t._rssiToDistance(n.rssi)})}),this.iteration++,e}},{key:"_updateLandmark",value:function(t,e){var n=this.landmarks.get(t),i=this._computeAlpha(e,n.iteration);n.rssi=e*i+n.rssi*(1-i),n.iteration=this.iteration}},{key:"_registerLandmark",value:function(t,e){this.landmarks.set(t,{uid:t,rssi:e,iteration:this.iteration})}},{key:"_computeAlpha",value:function(t,e){var n=Math.max(this.iteration-e,1),i=1-1/(Math.pow(n,1.5)+1);return i}},{key:"_rssiToDistance",value:function(t){return Math.pow(10,(t-this.landmarkConfig.txPower)/(-10*this.landmarkConfig.n))}}]),t}();n["default"]=a,e.exports=n["default"]},{}],7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("../util/coordinate-system"),o=t("../util/linked-list"),u=i(o),c=function(){function t(e){var n=e.x,i=e.y,a=e.theta,s=void 0===arguments[1]?void 0:arguments[1];r(this,t),this.x=n,this.y=i,this.theta=a,this.trace=void 0===s?(new u["default"]).add({x:n,y:i,theta:a}):new u["default"](s)}return a(t,[{key:"move",value:function(t){var e=t.r,n=t.theta,i=s.polarToCartesian(e,n),r=i.dx,a=i.dy;return this.x+=r,this.y+=a,this.theta=n,this.trace.add({x:this.x,y:this.y,theta:this.theta}),this}}],[{key:"copyUser",value:function(e){return new t({x:e.x,y:e.y,theta:e.theta},e.trace)}}]),t}();n["default"]=c,e.exports=n["default"]},{"../util/coordinate-system":11,"../util/linked-list":12}],8:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e,n){var r=this,a=void 0===arguments[2]?0:arguments[2],s=void 0===arguments[3]?0:arguments[3];i(this,t),this.dimension=e,this.precision=n,this.centerX=a,this.centerY=s,this.measurements=0,this.size=Math.round(e/n),this.votes=new Array(this.size).fill(0).map(function(){return new Array(r.size).fill(0)})}return r(t,[{key:"addMeasurement",value:function(t,e,n){this.measurements++,t-=this.centerX,e-=this.centerY,this._inRange(t,e)||console.error("Coordinates not in range of VoteAccumulator internal cell matrix "+("with x:"+t+", y:"+e+" and centerX:"+this.centerX+", centerY:"+this.centerY+".")),this._inRange(t+n,e)&&this._inRange(t,e+n)||console.error("Range measurement not in range of VoteAccumulator internal cell matrix.");var i=this._cartesianToCell(t,e),r=i.row,a=i.column,s=Math.round(n/this.precision);return this._midpointCircle(r,a,s),this}},{key:"positionEstimate",value:function(){if(this.measurements<3)return{estimate:0,x:0,y:0};for(var t=0,e={},n=0,i={},r=0;r<this.size;r++)for(var a=0;a<this.size;a++)this.votes[r][a]>t?(t=this.votes[r][a],e={row:r,column:a}):this.votes[r][a]>n&&(n=this.votes[r][a],i={row:r,column:a});var s=this._cellToCartesian(e.row,e.column),o=s.x,u=s.y;return{estimate:t/(t+n),x:o,y:u}}},{key:"toString",value:function(){return this.votes.reduce(function(t,e){return t+e.reduce(function(t,e){return e>9?t+e+" ":t+e+"  "})+"\n"},"\n")}},{key:"_inRange",value:function(t,e){return t>=-.5*this.dimension&&t<=.5*this.dimension&&e>=-.5*this.dimension&&e<=.5*this.dimension}},{key:"_midpointCircle",value:function(t,e,n){for(var i=n,r=0,a=1-i;i>=r;)this._vote(r+t,i+e),this._vote(r+t,-i+e),this._vote(-r+t,-i+e),this._vote(-r+t,i+e),i!=r&&(this._vote(i+t,r+e),this._vote(i+t,-r+e),this._vote(-i+t,-r+e),this._vote(-i+t,r+e)),r++,0>a?a+=2*r+1:(i--,a+=2*(r-i)+1);this._vote(t+n,e,-1),this._vote(t-n,e,-1),this._vote(t,e+n,-1),this._vote(t,e-n,-1)}},{key:"_vote",value:function(t,e){var n=void 0===arguments[2]?1:arguments[2];t>=this.size||e>=this.size||0>t||0>e||(this.votes[t][e]+=n)}},{key:"_cartesianToCell",value:function(t,e){return{column:Math.floor((t+.5*this.dimension)/this.precision),row:Math.floor((e+.5*this.dimension)/this.precision)}}},{key:"_cellToCartesian",value:function(t,e){return{x:(e+.5)*this.precision-.5*this.dimension,y:(t+.5)*this.precision-.5*this.dimension}}}]),t}();n["default"]=a,e.exports=n["default"]},{}],9:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return Math.pow(10,(t-e.txPower)/(-10*e.n))}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n.rssiToDistance=r;var s=t("../util/math"),o=function(){function t(e,n,r,a){var s=n.xRange,o=n.yRange;i(this,t),this.landmarks=[],this.xRange=s,this.yRange=o,this.updateRate=r,this.landmarkConfig=a,this.broadcastId=void 0;for(var u=0;e>u;u++)this.landmarks.push(this._randomLandmark("landmark-"+u))}return a(t,[{key:"startBroadcast",value:function(t,e){var n=this;this.broadcastId=window.setTimeout(function(){return n._broadCast(t,e)},this.updateRate)}},{key:"stopBroadCast",value:function(){void 0!==this.broadcastId&&window.clearTimeout(this.broadcastId)}},{key:"setUpdateRate",value:function(t){return this.updateRate=t,this}},{key:"measurementsAtPoint",value:function(t,e){var n=this.landmarksInRange(t,e),i=[];return n.forEach(function(n){return i.push({uid:n.uid,rssi:n.rssiAt(t,e)})})}},{key:"randomMeasurementAtPoint",value:function(t,e){var n=this.landmarksInRange(t,e);if(n.length>0){var i=n[Math.floor(Math.random()*n.length)];return{uid:i.uid,rssi:i.rssiAt(t,e)}}}},{key:"landmarksInRange",value:function(t,e){return this.landmarks.filter(function(n){return n.isInRange(t,e)})}},{key:"_randomLandmark",value:function(t){return new u(t,{x:2*Math.random()*this.xRange-this.xRange,y:2*Math.random()*this.yRange-this.yRange},this.landmarkConfig)}},{key:"_broadCast",value:function(t,e){var n=this,i=this.randomMeasurementAtPoint(e.x,e.y);void 0!==i&&t.addObservation(i),this.broadcastId=window.setTimeout(function(){return n._broadCast(t,e)},this.updateRate)}},{key:"landmarkByUid",value:function(t){for(var e=0;e<this.landmarks.length;e++)if(this.landmarks[e].uid==t)return this.landmarks[e]}}]),t}();n.SimulatedLandmarkSet=o;var u=function(){function t(e,n,r){var a=n.x,s=n.y,o=r.n,u=r.txPower,c=r.noise,l=r.range;i(this,t),this.uid=e,this.x=a,this.y=s,this.landmarkRange=l,this.n=o,this.txPower=u,this.noise=c}return a(t,[{key:"isInRange",value:function(t,e){return this.distanceTo(t,e)<=this.landmarkRange}},{key:"distanceTo",value:function(t,e){return Math.sqrt(Math.pow(this.x-t,2)+Math.pow(this.y-e,2))}},{key:"rssiAtRaw",value:function(t,e){return this.txPower-10*this.n*s.log(Math.max(this.distanceTo(t,e),.1),10)}},{key:"rssiAt",value:function(t,e){return this.rssiAtRaw(t,e)+s.randn(0,this.noise)}}]),t}()},{"../util/math":13}],10:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e,n){for(var i=!0;i;){var r=t,a=e,s=n;o=c=u=void 0,i=!1;var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;return void 0===u?void 0:u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;t=c,e=a,n=s,i=!0}},u=t("../models/user"),c=i(u),l=t("../util/math"),h=t("../util/coordinate-system"),d=function(t){function e(t,n,i){var a=i.xRange,s=i.yRange,u=i.padding;r(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.v=n,this.xRange=a,this.yRange=s,this.padding=u,this.lastControl={r:0,theta:0},this.iteration=0}return a(e,t),s(e,[{key:"setPath",value:function(t,e){this.distances=t,this.angles=e}},{key:"randomWalk",value:function(){var t=this._newStep(),e=t.r,n=t.theta,i=this.x,r=this.y,a=h.polarToCartesian(e,h.addTheta(n,this.theta)),s=a.dx,o=a.dy,u=this._constrainCoordinate(i+s,this.xRange-this.padding,-this.xRange+this.padding),c=this._constrainCoordinate(r+o,this.yRange-this.padding,-this.yRange+this.padding),l=h.cartesianToPolar(u-i,c-r);return this.move({r:l.r,theta:l.theta}),this.lastControl={r:l.r,theta:l.theta},this}},{key:"getLastControl",value:function(){return this.lastControl}},{key:"_constrainCoordinate",value:function(t,e,n){return t>e?e:n>t?n:t}},{key:"_newStep",value:function(){if(void 0!==this.distances&&void 0!==this.angles){if(this.iteration<this.distances.length){var t={r:this.distances[this.iteration],theta:this.angles[this.iteration]};return this.iteration++,t}if(this.iteration==this.distances.length)return console.debug("Simulater reached end of trace data"),{r:0,theta:0};this.iteration++}return{r:Math.abs(l.randn(this.v,1)),theta:l.randn(.1,.2)}}}]),e}(c["default"]);n["default"]=d,e.exports=n["default"]},{"../models/user":7,"../util/coordinate-system":11,"../util/math":13}],11:[function(t,e,n){"use strict";function i(t,e){var n=t+e,i=2*Math.PI;return n>i?n-=i:0>n&&(n+=i),n}function r(t,e){var n=t*Math.cos(e),i=t*Math.sin(e);return{dx:n,dy:i}}function a(t,e){var n=Math.sqrt(t*t+e*e),i=void 0;return 0!==t?(i=Math.atan(e/t),0>t?i+=Math.PI:0>e&&(i+=2*Math.PI)):i=e>=0?0:-Math.PI,{r:n,theta:i}}function s(t){return t*(Math.PI/180)}function o(t){var e=t-90,n=360-t+90;return Math.min(e,n)}Object.defineProperty(n,"__esModule",{value:!0}),n.addTheta=i,n.polarToCartesian=r,n.cartesianToPolar=a,n.degreeToRadian=s,n.rotationToLocalNorth=o},{}],12:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){var e=void 0===arguments[0]?void 0:arguments[0];i(this,t),void 0!==e&&"object"!=typeof e&&console.error("Base must be a LinkedList"),this.list=[e]}return r(t,[{key:"add",value:function(t){return this.list.push(t),this}},{key:"values",value:function e(){var e=[];return void 0!==this.list[0]&&(e=this.list[0].values()),e=e.concat(this.list.slice(1))}},{key:"currentValues",value:function(){return this.list.slice(1)}},{key:"hasParent",value:function(){return void 0!==this.list[0]}},{key:"last",value:function(){return this.list[this.list.length-1]}},{key:"getBase",value:function(){return this.list[0]}}]),t}();n["default"]=a,e.exports=n["default"]},{}],13:[function(t,e,n){"use strict";function i(t,e){var n=void 0,i=void 0,r=void 0,a=void 0,s=void 0;do n=Math.random(),i=1.7156*(Math.random()-.5),r=n-.449871,a=Math.abs(i)+.386595,s=r*r+a*(.196*a-.25472*r);while(s>.27597&&(s>.27846||i*i>-4*Math.log(n)*n*n));return i/n*e+t}function r(t,e,n){return 1/(n*Math.sqrt(2*Math.PI))*Math.exp(-Math.pow(t-e,2)/(2*n*n))}function a(t,e){return Math.log(t)/Math.log(e)}function s(t){var e=t[0][0],n=t[0][1],i=t[1][0],r=t[1][1],a=1,s=-(e+r),o=-s+Math.sqrt(Math.pow(e-r,2)+4*i*r)/2*a,u=-s-Math.sqrt(Math.pow(e-r,2)+4*i*r)/2*a,c=(o-e)/n,l=(u-e)/n,h=Math.sqrt(1+c*c),d=Math.sqrt(1+l*l);return{values:[o,u],vectors:[[1/h,c/h],[1/d,l/d]]}}function o(t,e){var n=0,i=0,r=t.length;return t.forEach(function(t){var r=e(t);n+=r,i+=r*r}),(i-n*n/r)/r}Object.defineProperty(n,"__esModule",{value:!0}),n.randn=i,n.pdfn=r,n.log=a,n.eigenvv=s,n.variance=o},{}],14:[function(t,e,n){"use strict";function i(t){var e=t.reduce(function(t,e){return t+e},0);return t.map(function(t){return t/e})}function r(t){var e=i(t),n=0;return e.map(function(t){return n=t+n})}function a(t,e){for(var n=e.length,r=i(e),a=Math.random()*(1/n),s=r[0],o=0,u=[],c=1;t>=c;c++){for(var l=a+(c-1)*(1/n);l>s;)o+=1,s+=r[o];u.push(o)}return u}function s(t,e){for(var n=r(e),i=[],a=0;t>a;a++)for(var s=Math.random(),o=0;o<n.length;o++)if(n[o]>=s){i.push(o);break}return i}function o(t){var e=i(t);return 1/e.reduce(function(t,e){return t+e*e})}Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeWeights=i,n.weightedCumulativeSum=r,n.lowVarianceSampling=a,n.rouletteWheelSampling=s,n.numberOfEffectiveParticles=o},{}],15:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=t("../util/math"),s=function(){function t(e,n,r){i(this,t),this.element=e,this.xMax=n,this.yMax=r,this.canvas=document.getElementById(e),this.ctx=this.canvas.getContext("2d"),this._scaleCanvas()}return r(t,[{key:"plotParticleSet",value:function(t){var e=this,n=t.bestParticle();return t.particles().forEach(function(t){t!==n&&e.plotUserTrace(t.user)}),this.plotUserTrace(n.user,"#11913E"),this}},{key:"clearCanvas",value:function(){return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this}},{key:"plotUserTrace",value:function(t){var e=this,n=void 0===arguments[1]?"#C7C7C7":arguments[1],i=void 0===arguments[2]?void 0:arguments[2];return this.ctx.lineJoin="round",this.ctx.lineWidth=.1,this.ctx.fillStyle="#960E0E",this.ctx.strokeStyle=n,this.ctx.beginPath(),t.trace.values().forEach(function(t,n){{var i=t.x,r=t.y;t.theta}0===n?e.ctx.moveTo(e._tx(i),e._ty(r)):e.ctx.lineTo(e._tx(i),e._ty(r))}),this.ctx.stroke(),this.ctx.closePath(),void 0!==i&&(this.ctx.strokeStyle="#C7C7C7",this.ctx.beginPath(),this.ctx.arc(this._tx(t.x),this._ty(t.y),i,0,2*Math.PI,!0),this.ctx.stroke(),this.ctx.closePath()),this}},{key:"plotObjects",value:function(t){var e=this,n=void 0===arguments[1]?"#000000":arguments[1];this.ctx.fillStyle=n;var i=.35;return t.forEach(function(t){var n=e._tx(t.x)-.35*i,r=e._ty(t.y)-.35*i;e.ctx.fillRect(n,r,i,i)}),this}},{key:"plotLandmarkPredictions",value:function(t){var e=this,n=void 0===arguments[1]?void 0:arguments[1],i=void 0===arguments[2]?"#941313":arguments[2];this.ctx.fillStyle=i;return t.forEach(function(t){t.landmarks.forEach(function(t,i){e._plotLandmark(i,t,n)}),e.plotLandmarksErrors(t)}),this}},{key:"plotLandmarkEstimate",value:function(t){var e=this,n=void 0===arguments[1]?void 0:arguments[1];t.forEach(function(t,i){e._plotLandmark(i,t,n)})}},{key:"plotLandmarkInitParticles",value:function(t){var e=this,n=void 0===arguments[1]?"#2EFF3C":arguments[1];this.ctx.fillStyle=n;var i=.5,r=!0,a=!1,s=void 0;try{for(var o,u=t.particleSets()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;c.particles.forEach(function(t){var n=e._tx(t.x)-.5*i,r=e._ty(t.y)-.5*i;e.ctx.fillRect(n,r,i,i)})}}catch(l){a=!0,s=l}finally{try{!r&&u["return"]&&u["return"]()}finally{if(a)throw s}}return this}},{key:"plotLandmarksErrors",value:function(t){var e=this;return t.landmarks.forEach(function(t){var n=a.eigenvv(t.cov),i=n.values,r=n.vectors,s=void 0,o=void 0;i[0]>i[1]?(s=[r[0][0]*Math.sqrt(i[0]),r[0][1]*Math.sqrt(i[0])],o=[r[1][0]*Math.sqrt(i[1]),r[1][1]*Math.sqrt(i[1])]):(s=[r[1][0]*Math.sqrt(i[1]),r[1][1]*Math.sqrt(i[1])],o=[r[0][0]*Math.sqrt(i[0]),r[0][1]*Math.sqrt(i[0])]);var u=0,c=0;e.ctx.beginPath(),e.ctx.strokeStyle="#B06D6D";for(var l=0;16>l;l++){var h=Math.PI*(l/8),d=e._tx(o[0]*Math.cos(h)+s[0]*Math.sin(h)+t.x),f=e._ty(o[1]*Math.cos(h)+s[1]*Math.sin(h)+t.y);isNaN(d)&&(console.log({m0:o[0],m1:o[1],mm0:s[0],mm1:s[1]}),console.log({values:i,vectors:r})),0===l?(e.ctx.moveTo(d,f),u=d,c=f):e.ctx.lineTo(d,f)}e.ctx.lineTo(u,c),e.ctx.stroke(),e.ctx.closePath()}),this}},{key:"_plotLandmark",value:function(t,e){var n=void 0===arguments[2]?void 0:arguments[2],i=void 0===arguments[3]?.5:arguments[3],r=this._tx(e.x)-.5*i,a=this._ty(e.y)-.5*i;if(this.ctx.fillRect(r,a,i,i),void 0!==n){var s=n.landmarkByUid(t);this.ctx.strokeStyle="#8C7A7A",this.ctx.beginPath(),this.ctx.moveTo(r,a),this.ctx.lineTo(this._tx(s.x),this._ty(s.y)),this.ctx.stroke(),this.ctx.closePath()}}},{key:"_scaleCanvas",value:function(){var t=window.devicePixelRatio&&2===window.devicePixelRatio?1.99:1,e=Math.min(window.innerWidth,window.innerHeight);this.canvas.width=e*t,this.canvas.height=e*t,this.canvas.style.width=e+"px",this.canvas.style.height=e+"px";var n=e*t/this.xMax,i=e*t/this.yMax;this.ctx.scale(n,i)}},{key:"_tx",value:function(t){return t+this.xMax/2}},{key:"_ty",value:function(t){return this.yMax-(t+this.yMax/2)}}]),t}();n["default"]=s,e.exports=n["default"]},{"../util/math":13}],16:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("./models/particle-set"),a=i(r),s=t("./view/visualizer"),o=i(s),u=t("./simulation/user"),c=i(u),l=t("./simulation/landmark"),h=t("./models/sensor"),d=i(h),f=t("./config"),v=i(f);window.SlacENV=v["default"].environment,window.SlacApp={particleSet:void 0,visualizer:void 0,user:void 0,landmarks:void 0,sensor:void 0,initialize:function(){this.particleSet=new a["default"](v["default"].particles.N,v["default"].particles.defaultPose),this.visualizer=new o["default"]("slac-map",100,100),this.user=new c["default"]({x:0,y:0,theta:0},2,{xRange:50,yRange:50,padding:5}),this.landmarks=new l.SimulatedLandmarkSet(40,{xRange:50,yRange:50},50,v["default"].beacons),this.sensor=new d["default"](v["default"].beacons),this.landmarks.startBroadcast(this.sensor,this.user)},step:function(){var t=this;this.user.randomWalk();var e=this.user.getLastControl(),n=e.r,i=e.theta;this.particleSet.samplePose({r:n,theta:i});var r=this.sensor.getObservations();r.forEach(function(e){return t.particleSet.processObservation(e)}),this.particleSet.resample(),this.visualizer.clearCanvas().plotUserTrace(this.user,"blue",v["default"].beacons.range).plotObjects(this.landmarks.landmarks).plotParticleSet(this.particleSet),"debug"==window.SlacENV?(this.visualizer.plotLandmarkPredictions(this.particleSet.particles(),this.landmarks),this.visualizer.plotLandmarkInitParticles(this.particleSet.landmarkInitSet)):this.visualizer.plotLandmarkEstimate(this.particleSet.landmarkEstimate(),this.landmarks)},_addSimulatedData:function(){var t=[0,0,0,0,0,0,.08099418560036185,0,0,0,0,0,0,0,-.002454369260617026,0,0,0,0,0,0,-.000818123086872342,0,0,0,0,0,0,0,.000545415391248228,0,0,0,0,0,0,0,.001636246173744684,0,0,0,0,0,0,-.000272707695624114,0,0,0,0,0,0,0,.000272707695624114,0,0,0,0,0,0,.004363323129985824,0,0,0,0,0,0,0,.006544984694978736,0,0,0,0,0,0,-.0029997846518652537,0,0,0,0,0,0,0,-.0029997846518652537,0,0,0,0,0,0,.001908953869368798,0,0,0,0,0,0,0,.000818123086872342,0,0,0,0,0,0,-.006272276999354622,0,0,0,0,0,0,0,-.001090830782496456,0,0,0,0,0,0,.08290313946973066,0,0,0,0,0,0,-.00545415391248228,0,0,0,0,0,0,-.11344640137963143,0,0,0,0,0,0,0,-.09272061651219876,0,0,0,0,0,0,0,-.007363107781851078,0,0,0,0,0,0,-.20453077171808548,0,0,0,0,0,0,0,-.1598067096357308,0,0,0,0,0,0,0,-.1990766178056032,0,0,0,0,0,0,-.241619018322965,0,0,0,0,0,0,0,-.1562615095926173,0,0,0,0,0,0,-.22552926428114228,0,0,0,0,0,0,0,-.23425591054111392,0,0,0,0,0,0,-.31334114227210697,0,0,0,0,0,0,-.22362031041177347,0,0,0,0,0,0,0,-.0681769239060285,0,0,0,0,0,0,-.12871803233458182,0,0,0,0,0,0,0,-.08426667794785123,0,0,0,0,0,0,0,.0995383089028016,0,0,0,0,0,0,.006544984694978736,0,0,0,0,0,0,0,.00272707695624114,0,0,0,0,0,0,-.000818123086872342,0,0,0,0,0,0,0,.0029997846518652537,0,0,0,0,0,0,0,.003272492347489368,0,0,0,0,0,0,0,.06899504699290084,0,0,0,0,0,0,.06599526234103559,0,0,0,0,0,0,0,.0719948316447661,0,0,0,0,0,0,.007090400086226964,0,0,0,0,0,0,0,-.0029997846518652537,0,0,0,0,0,0,-.13199052468207118,0,0,0,0,0,0,0,-.12408200150897186,0,0,0,0,0,0,0,-.1892591407631351,0,0,0,0,0,0,-.13335406316019174,0,0,0,0,0,0,0,-.13717197089892932,0,0,0,0,0,0,0,-.13799009398580167,0,0,0,0,0,0,-.10471975511965978,0,0,0,0,0,0,0,-.10608329359778035,0,0,0,0,0,0,-.0703585854710214,0,0,0,0,0,0,0,-.004363323129985824,0,0,0,0,0,0,0,.001090830782496456,0,0,0,0,0,0,0,.004636030825609938,0,0,0,0,0,0,.08699375490409236,0,0,0,0,0,0,0,.00545415391248228,0,0,0,0,0,0,.004908738521234052,0,0,0,0,0,0,0,.002181661564992912,0,0,0,0,0,0,.000818123086872342,0,0,0,0,0,0,-.001908953869368798,0,0,0,0,0,0,0,-.002181661564992912,0,0,0,0,0,0,0,-.0029997846518652537,0,0,0,0,0,0,-.005726861608106394,0,0,0,0,0,0,-.06463172386291502,0,0,0,0,0,0,0,-.08835729338221293,0,0,0,0,0,0,-.06844963160165261,0,0,0,0,0,0,-.007090400086226964,0,0,0,0,0,0,0,-.004908738521234052,0,0,0,0,0,0,-.00136353847812057,0,0,0,0,0,0,.08235772407848242,0,0,0,0,0,0,0,.09844747812030515,0,0,0,0,0,0,.17862354063379465,0,0,0,0,0,0,0,.275162064884731,0,0,0,0,0,0,.2519819107566813,0,0,0,0,0,0,0,.41369757426178094,0,0,0,0,0,0,.37879098922189436,0,0,0,0,0,0,0,.5162356678164478,0,0,0,0,0,0,.4955098829490151,0,0,0,0,0,0,0,.32288591161895097,0,0,0,0,0,0,.25443628001729834,0,0,0,0,0,0,0,.14862569411514212,0,0,0,0,0,0,.11017390903214205,0,0,0,0,0,0,0,.0859029241215959,0,0,0,0,0,0,.007090400086226964,0,0,0,0,0,0,0,.007635815477475192,0,0,0,0,0,0,.007635815477475192,0,0,0,0,0,0,0,.007363107781851078,0,0,0,0,0,0,.0029997846518652537,0,0,0,0,0,0,0,-.000272707695624114,0,0,0,0,0,0,-.0719948316447661,0,0,0,0,0,0,0,-.07308566242726255,0,0,0,0,0,0,0,-.1366265555076811,0,0,0,0,0,0,-.11671889372712078,0,0,0,0,0,0,0,-.07526732399225546,0,0,0,0,0,0,-.001636246173744684,0,0,0,0,0,0,0,.003817907738737596,0,0,0,0,0,0,.24461880297483024,0,0,0,0,0,0,.3239767424014474,0,0,0,0,0,0,0,.26207209549477356,0,0,0,0,0,0,0,.28197975727533386,0,0,0,0,0,0,.19144080232812802,0,0,0,0,0,0,0,.13880821707267402,0,0,0,0,0,0,0,.07063129316664553,0,0,0,0,0,0,0,.0040906154343617095,0,0,0,0,0,0,.0040906154343617095,0,0,0,0,0,0,.00272707695624114,0,0,0,0,0,0,-.001636246173744684,0,0,0,0,0,0,0,-.001908953869368798,0,0,0,0,0,0,-.001636246173744684,0,0,0,0,0,0,0,-.003272492347489368,0,0,0,0,0,0,0,0,0,0,0,0,0,.06299547768917033,0,0,0,0,0,0,0,.00545415391248228,0,0,0,0,0,0,.003545200043113482,0,0,0,0,0,0,0,.007090400086226964,0,0,0,0,0,0,.07635815477475191,0,0,0,0,0,0,0,.09272061651219876,0,0,0,0,0,0,.20398535632683726,0,0,0,0,0,0,0,.18953184845875923,0,0,0,0,0,0,.20153098706622025,0,0,0,0,0,.1502619402888868,0,0,0,0,0,0,0,0,.15162547876700738,0,0,0,0,0,0,-6.149013120932523,0,0,0,0,0,0,.09626581655531224,0,0,0,0,0,0,0,.09326603190344698,0,0,0,0,0,0,.007635815477475192,0,0,0,0,0,0,.007363107781851078,0,0,0,0,0,0,0,.003817907738737596,0,0,0,0,0,0,0,.00272707695624114,0,0,0,0,0,0,.00272707695624114,0],e=t.map(function(){
return.16});this.user.setPath(e,t)}}},{"./config":1,"./models/particle-set":4,"./models/sensor":6,"./simulation/landmark":9,"./simulation/user":10,"./view/visualizer":15}],17:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t,e,n,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=40,e=2,n=t/4,i=0;case 4:if(!(t>i)){r.next=26;break}if(!(n>i)){r.next=10;break}return r.next=8,{dx:e,dy:0};case 8:r.next=23;break;case 10:if(!(2*n>i)){r.next=15;break}return r.next=13,{dx:0,dy:e};case 13:r.next=23;break;case 15:if(!(3*n>i)){r.next=20;break}return r.next=18,{dx:-e,dy:0};case 18:r.next=23;break;case 20:if(!(t>i)){r.next=23;break}return r.next=23,{dx:0,dy:-e};case 23:i++,r.next=4;break;case 26:case"end":return r.stop()}},a[0],this)}var a=[r].map(regeneratorRuntime.mark),s=t("../app/models/landmark-init-set"),o=i(s);void 0===window.test&&(window.test={}),window.test.landmarkInit={landmarkSet:void 0,userX:0,userY:0,lX:0,lY:0,userTrace:[],xMax:50,yMax:50,ctx:void 0,canvas:void 0,pattern:void 0,initialize:function(){this.lX=30*Math.random()-15,this.lY=30*Math.random()-15,this.landmarkSet=new o["default"],this.canvas=document.getElementById("test-content"),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(10,10),this.userTrace.push({x:this.userX,y:this.userY}),this.pattern=r()},iterate:function(){var t=this.pattern.next().value,e=t.dx,n=t.dy;this.userX=this.userX+e,this.userY=this.userY+n,this.userTrace.push({x:this.userX,y:this.userY});var i=Math.sqrt(Math.pow(this.lX-this.userX,2)+Math.pow(this.lY-this.userY,2));this.landmarkSet.addMeasurement("uid",this.userX,this.userY,i),this._draw(),console.debug("True r: "+i)},_draw:function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#000000",this.landmarkSet.particleSetMap.get("uid").particles.forEach(function(e){var n=t._tx(e.x),i=t._ty(e.y);t.ctx.fillRect(n,i,.3,.3)}),this.ctx.fillStyle="#ff0000",this.userTrace.forEach(function(e){return t.ctx.fillRect(t._tx(e.x),t._ty(e.y),.5,.5)}),this.ctx.fillStyle="#00ff00",this.ctx.fillRect(this._tx(this.lX),this._ty(this.lY),.5,.5)},_tx:function(t){return t+this.xMax/2},_ty:function(t){return this.yMax-(t+this.yMax/2)}}},{"../app/models/landmark-init-set":2}],18:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("../app/models/vote-accumulator"),a=i(r);void 0===window.test&&(window.test={}),window.test.voting={votes:void 0,userX:0,userY:0,trace:[],lX:-5,lY:10,lR:0,lC:0,initialize:function(){this.votes=new a["default"](75,5);var t=this.votes._cartesianToCell(this.lX,this.lY),e=t.row,n=t.column;this.lR=e,this.lC=n,document.getElementById("test-content").innerHTML=this._createOutputTable(),this._displayLandmark()},iterate:function(){this.userX+=4*Math.random()-2,this.userY+=6*Math.random()-3,this.trace.push({x:this.userX,y:this.userY});var t=Math.sqrt(Math.pow(this.lX-this.userX,2)+Math.pow(this.lY-this.userY,2))+(6*Math.random()-3);this.votes.addMeasurement(this.userX,this.userY,t),document.getElementById("test-content").innerHTML="",document.getElementById("test-content").innerHTML=this._createOutputTable(),this._displayLandmark(),this._displayUser()},_createOutputTable:function(){var t="<table>";return t+=this.votes.votes.reduce(function(t,e,n){return t+"<tr>"+e.reduce(function(t,e,i){var r="background-color: rgba(0, 0, 0, "+e/50+");",a=n+""+i;return t+'<td id="'+a+'" style="'+r+'">'+e+"</td>"},"")+"</tr>"},""),t+="</table>"},_displayLandmark:function(){document.getElementById(this.lR+""+this.lC).style.backgroundColor="red"},_displayUser:function(){var t=this;this.trace.forEach(function(e){var n=t.votes._cartesianToCell(e.x,e.y),i=n.row,r=n.column;document.getElementById(i+""+r).style.backgroundColor="green"})}}},{"../app/models/vote-accumulator":8}]},{},[16,18,17]);
//# sourceMappingURL=slacjs-app.js.map